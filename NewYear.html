<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Happy New Year!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: linear-gradient(135deg, #e1f6ff, #ffe1fa);
      min-height: 100vh;
      position: relative;
      overflow: hidden;
    }
    #snowfallArea {
      position: absolute; 
      top: 0; left: 0; 
      width: 100%; 
      height: 100%; 
      z-index: 0;
    }
    .container {
      position: relative;
      z-index: 1;
      max-width: 600px;
      margin: 0 auto;
      padding: 2rem 1rem;
      text-align: center;
    }
    /* Стили для элемента, где печатается текст */
    #typed {
      margin-top: 1rem;
      font-size: 1.2rem;
      font-weight: bold;
      color: #d90f5a;
    }
  </style>
</head>
<body>
  <!-- Зона снега -->
  <div id="snowfallArea"></div>

  <!-- Контент -->
  <div class="container">
    
    <!-- Блок для анимации печати -->
    <div id="typed"></div>
  </div>

  <!-- 1) jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  
  <!-- 2) snowfall (локально) -->
  <!-- Убедитесь, что этот файл действительно лежит в корне: /snowfall.jquery.min.js -->

  <!-- 3) Подключаем Typed.js (через CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.16/dist/typed.umd.js"></script>

  <!-- 4) Инициализация снега и Typed.js -->
  <script>
    // Количество снежинок
    const FLAKES_COUNT = 50;

    // Массив для хранения объектов снежинок
    let flakes = [];

    // Контейнер, в который кладём снежинки
    const snowfallArea = document.getElementById('snowfallArea');

    // Функция для создания одной снежинки (DOM-элемента и объекта с параметрами)
    function createFlake() {
      // Создаём элемент
      const flakeEl = document.createElement('div');
      flakeEl.classList.add('snowflake');
      
      // Можем отобразить снежинку в виде символа или текста
      // Например, "❄" или "*"
      flakeEl.textContent = '❄';

      // Добавляем на страницу
      snowfallArea.appendChild(flakeEl);

      // Задаём начальные свойства (координаты, скорость и т.п.)
      // Ширина/высота окна
      const screenW = window.innerWidth;
      const screenH = window.innerHeight;

      // Случайная позиция X, Y и скорость падения
      // Пусть Y будет чуть выше видимой части, чтобы снежинка «влетала» сверху
      const startX = Math.random() * screenW;
      const startY = -Math.random() * screenH;
      const speed = 1 + Math.random() * 2;  // скорость падения
      const size = 10 + Math.random() * 15; // размер шрифта
      const drift = Math.random() * 2 - 1;  // «дрейф» по горизонтали (-1..1)

      // Применим размеры
      flakeEl.style.fontSize = size + 'px';
      
      return {
        el: flakeEl,
        x: startX,
        y: startY,
        speed: speed,
        drift: drift,
        size: size
      };
    }

    // Функция для инициализации массива снежинок
    function initFlakes() {
      for (let i = 0; i < FLAKES_COUNT; i++) {
        flakes.push(createFlake());
      }
    }

    // Обновление позиции снежинок и рендер
    function updateFlakes() {
      const screenW = window.innerWidth;
      const screenH = window.innerHeight;

      flakes.forEach(flake => {
        // Двигаем снежинку вниз
        flake.y += flake.speed;
        // Немного смещаем по горизонтали
        flake.x += flake.drift;

        // Если улетела за нижнюю границу, возвращаем наверх
        if (flake.y > screenH) {
          flake.y = -flake.size; // ставим примерно над экраном
          flake.x = Math.random() * screenW; // случайная X
        }

        // Применяем координаты
        flake.el.style.transform = `translate(${flake.x}px, ${flake.y}px)`;
      });
    }

    // Анимационный цикл
    function animate() {
      updateFlakes();
      requestAnimationFrame(animate);
    }

    // При изменении размера окна обновляем позиции
    window.addEventListener('resize', () => {
      // Можно перезапустить снежинки или просто обновить screenW/ screenH
      // В этом примере оставляем, как есть
    });

    // Инициализация
    initFlakes();
    animate();
  </script>
  
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Запускаем снегопад

    // Анимация печати текста
    new Typed('#typed', {
      strings: [
        "Если ты любишь человека за его внешность — это лишь одержимость. Если ценишь за доброту — это восхищение. Если дорожишь его чувствами к тебе — это эмпатия. Если принимаешь его таким, какой он есть, со всеми недостатками — это искреннее принятие. Если остаёшься рядом в радости и горе — это истинная преданность. Если восхищаешься его умом и знаниями — это интеллектуальное влечение. Если любишь, несмотря на расстояния — это прочная эмоциональная связь. Если ставишь его счастье превыше собственного — это самоотверженность. Если ценишь его умение смешить тебя — это совершенная гармония юмора. На протяжении этих пяти лет я испытал к тебе все грани любви: от одержимости до гармонии юмора. И если любовь — это выбор, я снова и снова буду выбирать именно тебя, сколько бы шансов мне ни выпало. Ведь наша любовь — это не только радость, веселье и прекрасные воспоминания, но и сложности, пройденные вместе. Это моменты, когда мы поддерживаем друг друга, несмотря на огромное расстояние, делим пополам и успехи, и неудачи, потому что мы — две части одного целого, две любящие души, готовые провести вечность рядом. С Новым годом, Назым! Спасибо, что подарила мне ещё один год, полный тёплых воспоминаний, поддержки, любви и заботы. Спасибо тебе за то, что ты есть в моей жизни."
      ],
      typeSpeed: 50,     // скорость печати
      backSpeed: 30,     // скорость удаления
      backDelay: 1000,   // пауза перед удалением
      loop: false,        // зациклить анимацию
      showCursor: true   // отображать мигающий курсор
    });
  });
  </script>
</body>
</html>
